using Com.A.C.A;
using KikClient.Networking;
using KikClient.Utilities;
using Mobile.Abtesting.V1;
using System;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Windows;
using System.Xml.Linq;

namespace KikClient
{
    /// <summary>
    /// Interaction logic for MainWindow.xaml
    /// </summary>
    public partial class MainWindow : Window
    {
        private Client Client { get; set; }

        public MainWindow()
        {
            InitializeComponent();

            TestPasskeyButton.Click += TestPasskeyButton_Click;
            TestKeysButton.Click += TestKeysButton_Click;
            TestParserButton.Click += TestParserButton_Click;
            TestUUIDButton.Click += TestUUIDButton_Click;
            TestLoginButton.Click += TestLoginButton_Click;
            TestProtobufButton.Click += TestProtobufButton_Click;

            Logger.MessageLogged += Logger_MessageLogged;

            WinConsole.Initialize();
        }

        private void Logger_MessageLogged(Logger.LogType type, string message)
        {
            Dispatcher.Invoke(() =>
            {
                ResultsBox.Text += $"{message}\n";
            });
        }

        private void TestPasskeyButton_Click(object sender, RoutedEventArgs e)
        {
            Logger.Debug(KikUtilities.HashPassword(UsernameBox.Text, PasswordBox.Text));
        }

        private void TestKeysButton_Click(object sender, RoutedEventArgs e)
        {
            Logger.Debug(KikUtilities.SignValues("466ae985-9768-45ca-0000-204040315e8f", "1608714634097", "14.1.2.11629", "9e21ad2e3d6c42acabe490829b9b6430"));
        }

        private void TestParserButton_Click(object sender, RoutedEventArgs e)
        {
            /*var kTag = "<k ok=\"1\">";
            var kEndTag = "</k>";*/
            //var iqStanza = "<iq id=\"8a92383f-2c1e-466a-0800-000048951e6a\" type=\"result\"><query xmlns=\"jabber:iq:register\"><node>zfur_l7p</node><email confirmed=\"false\">chzwill12@yahoo.com</email><username>zFur</username><first>M</first><last> </last><xdata><record pk=\"ab_settings\">CAAYAQ</record><record pk=\"chat_list_bins\">ChMSEQoPMTEwMDIyMTA2Nzk3N19nChMSEQoPMTEwMDIxOTM5MjI4MV9nChMSEQoPMTEwMDIxODkzMDkxM19nChUKEwoRbG9uZG9ubGFkMjQyM18xemkKEwoRCg9yb21lam9uc29uMV9teWgKEAoOCgx3b2ZlcnRlbl8zYTkKExIRCg8xMTAwMjIwMjQyMDA5X2cKEQoPCg10cmFpbnpib3lfenp3ChAKDgoMbW9ydHkxMTdfZ2J3ChcKFQoTYnVzaGlkb2NoYW1wbG9vXzFlZAoLCgkKB2tpa3RlYW0KDAoKCgh6ZnVyX2w3cAoSChAKDl90cmFpbnpib3lfeXg3ChUKEwoRdGhlcmVhZnRlcjEyM19keDMKDwoNCgttb2VydG9uX3BocwoXChUKE3JvY2tpbmdyb2JpbjEyM19laGwKExIRCg8xMTAwMTAyMjQwNDY3X2cKGQoXChVsamF2YS5sYW5nLnN0cmluZ185dGUKDwoNCgticml0aXNoX2R1ZgoTChEKD2FuaW1lMTVsaWZlX292aQoVChMKEW5hdGFsaWV0aGVrYXRfMG82ChUKEwoRa2lsbGVybWFsd2FyZV90NHYKExIRCg8xMTAwMjE4MjM5ODA3X2cKExIRCg8xMTAwMjE5NTgxNDk5X2c</record><record pk=\"enc_messaging_priv_key\">CiBH77zhhJ27bhjrriH8bMcz9O5kYBjnOVGPotKLg7GylRIQnbVmaymhp2cYc-PMUoVusBrgBHQp_wceTMiB8FzGvu_4mN2nuKcyiZfOXQ4QPpYM5wx4vj6HfBWWiX7O10LlITzXxglEqb_Gsv11a6ZyHbW8E-8qpIfSw7BlvC1-O-wC5dZ_0lQzbKVc8v8KE-ojagmDVRxKl9U_gE7Y1xzmyHCA4xWAs4MkLLFjuVSsIn0zAG7iwvactxrCmR5d_woZx0SvvPNj_HMGQeOUyFix7_PnQ1uOBscahCN2jjqhqvKUG_xiZhpG2YuaNqx2VSNlHqxm00rFeiFcXTX4NoiygkcF1ETsEpJn5CMv8k_ddlYAuo83aTnyHLp12xmAcMW0bRV8grj7yx__QvWQqkfYYEgUfW3Lnw1ba_wrdA8Q5YtA3UOZhh80EYNi3LpnUZHY7sxwG8JHadP3NO0JTLBWa97eBWbHWSET6KlMmkT89SALyCvUT-M2yt9fYOwlb_1o9zrp5AtjRpTPcMj2ygG6nJzq_KMFYPRmY5GHU0eRFGHFqEYkgDQ5Q3T_tlSHbItF8AytvH55P2UwKZGmbo1H1zPxhqLGrvyOX7k4n2wYSQ5qb6-iCdrk2jdyvAjrv_x9qNMFxDyimJH7pV43LgoH8eqXfS4mJKdbYioRCgh89-Uye1W9WuI8lWCdbAtNOJfqS5BOjYWka0UxIFKXpYDcelTIbxhS889NNFSFgWhE1Gzx_ayhfqEjO7Znpeeoem6AUPxAwiUJlZmGV1BVKUftWMpxeCODNW5EL9gNPYQW-xR4ih1gJNys7mekbYt1BIOmsv2PNtb5j4S0c-iBYkSePv7X1i1FGuukgyKxcAAqtxQ41gkMIgVStIxyzQ</record><record pk=\"messaging_pub_key\">ClgwVjAQBgcqhkjOPQIBBgUrgQQACgNCAASAA3fvg9-QIy7DgXCgRWUa-QlyN1D4mMX4h9THvkDRRi5NOdrubV6gae1O1QVNYaUoz4CE2igWPLC5YPTpv4pC</record><record pk=\"one_time_use_records\">CAEgATgBWAFiOQoRCg8xMTAwMjI0MTQ4MjU1X2cKEQoPMTEwMDIxOTM5MjI4MV9nChEKDzExMDAyMDIzNzM0OTFfZ2gBcAGYAQE</record><record pk=\"scanning_nonce_secret\">CoACFjMLUIb4XhiiiCaiWvGDbzPhjv_hUNXsOAaiHVF5pSXO-gOtZ5R1B4vUQ5y1EYzC1fN55RnZq7seWoKTA9ya7xr_E1pWmu2geOtEPKo-YXVD8sW467P5U3otzw8hDNu6z3X68dd8haQ0TGugSVn7pwNThA7qLdqPRO4he_HRogVFRIpmG1XHbO1NDhrXfpOJcMM0Xyxz6xMphqn1wlzYoekMM_GpDK8jSnzmcGdmsm8ar2JopWK7eqUe42QNoERFmZ7Tbeuz17VfPQnBlXzvYG7V4AeLrviZQUYStnT4HrYOO8buV0ebu3Gy5lwxqxR8czI0fkwCHyNTrfwENCvKzQ</record><record pk=\"tenor_uid\">CiBjZTI3NDY2Y2ZlOTI0NDBlOTY4MzE0YmFiMzI5NTFmZA</record><record pk=\"user_preferences\">UABYAA</record></xdata><xiphias><response service=\"mobile.abtesting.v1.AbTesting\" method=\"GetParticipatingExperiments\"><body>ChcKC2tpbl9zdXBwb3J0EghkaXNhYmxlZAoaChJjbXBfZGlhbG9nX2FuZHJvaWQSBHNob3cKFwoPbG9jX3Byb21wdF9iYXNlEgRzaG93ChUKDWRhcmtfbW9kZV9pb3MSBHNob3cKEQoJZGFya19tb2RlEgRzaG93CjMKFWFub255bW91c19tYXRjaGluZ192NBIac2hvd192NF8xNWNoYXRzX2Vhcm5fc3BlbmQKIQoWdGlwcGluZ19zdGF0dXNfbWVzc2FnZRIHY29udHJvbAogChVhbm9ueW1vdXNfbWF0Y2hpbmdfdjMSB2NvbnRyb2wKIAoVYW5vbnltb3VzX21hdGNoaW5nX3YyEgdjb250cm9sChwKDG5vX2tpbmRpYWxvZxIMbG9uZ2VyX2JsdXJiCjkKKHRlbXBfYmFuX2VmZmVjdF9tZWFzdXJlbWVudF9ib3RocGxhdGZvcm0SDXNraXBfdGVtcF9iYW4KHQoSYW5vbnltb3VzX21hdGNoaW5nEgdjb250cm9sCjwKK3NldHRpbmdzX3B1YmxpY2dyb3VwcHJpdmFjeXYyX2JvdGhwbGF0Zm9ybXMSDXNob3dfZG10b2dnbGUKKQohY2hhdF90aGVtZXNfYW5kcm9pZF9wcmVzZXJ2ZV9wYWlkEgRwYWlkChwKFGNoYXRfdGhlbWVzX2ZyZWVfaW9zEgRzaG93ChkKEWtpbl93YWxsZXRfaXBob25lEgRzaG93ChoKEmtpbl93YWxsZXRfYW5kcm9pZBIEc2hvdwoVCg1naWZfZmF2b3JpdGVzEgRzaG93Ch0KE2dyb3VwX2FkZF9wbGFjZW1lbnQSBmJvdHRvbQobChNncm91cC1pbnZpdGUtYnViYmxlEgRzaG93ChQKCXBnX2F0X2JvdBIHY29udHJvbAoiCg9tdWx0aXBsZV9waG90b3MSD211bHRpcGxlX3Bob3RvcwoiChdpbl9hcHBfbm90aWZpY2F0aW9uX2lvcxIHY29udHJvbAonCh9ib3RfY29udGVudF9tZXNzYWdlX2F0dHJpYnV0aW9uEgRzaG93CicKHHRleHRfd2lkZ2V0X3RpY3RhY3RvZWJvdF9pb3MSB2NvbnRyb2wKHwoUcHVzaG5vdGlmX3ZpZGVvX2NoYXQSB2NvbnRyb2wKGgoSZ3JvdXBfZGVzY3JpcHRpb25zEgRsaXN0ChcKD3BnX3Nob3dfaW5fcGx1cxIEc2hvdwoYChBoYXNodGFnc19iYWRnaW5nEgRzaG93Ch8KF3B1YmxpY2dyb3Vwc19oZWxwZXJfaW9zEgRzaG93ChcKDHByb2ZpbGUtYmlvcxIHY29udHJvbAohChZwcm9maWxlX3RoZW1lc19hbmRyb2lkEgdjb250cm9sCi8KJGVtb2ppLXN0YXR1cy1wcm9maWxlLXBpY3R1cmUtcmVsZWFzZRIHY29udHJvbApACihzZXR0aW5nc19waG90b3ByZXZpZXdfZWZmZWN0c2FuZGNhcHRpb25zEhRmaWx0ZXJzX2FuZF9jYXB0aW9ucwoeChZzdWdnZXN0ZWQtY2hhdHMtaXBob25lEgRzaG93ChMKC3F1aWNrX3JlcGx5EgRzaG93ChoKEG5ld19raWtfZGVmYXVsdHMSBmVuYWJsZQouCiNuZXdfcGVvcGxlX25vdGlmaWNhdGlvbl9zZXR0aW5nX2JhchIHZW5hYmxlZAogChhzaGFyZV9ncm91cF9saW5rc19pcGhvbmUSBHNob3cKIwoRc2hhcmVfZ3JvdXBfbGlua3MSDnBpY3R1cmVfYnV0dG9uChgKEHByaXZhY3lfc2V0dGluZ3MSBHNob3cKJQoaZW5oYW5jZWRfZ2lmX3RhYl8yX2FuZHJvaWQSB2NvbnRyb2wKHwoSbmV0d29ya19lbmNyeXB0aW9uEglmb3JjZV9zc2wKHwoVYmFuLW5vbi1ncm91cC1tZW1iZXJzEgZiYW4tZW0KLAobYmV0dGVyX3B1c2hfb3B0aW5fcmVtaW5kZXJzEg1sb3dfZnJlcXVlbmN5Ch0KFXNjcmliYmxlX2NoYXRfcmVsZWFzZRIEc2hvdwoaChJ2aWRlb2NoYXRfc3RpY2tlcnMSBHNob3cKGgoLZnVsbF9zY3JlZW4SC2Z1bGxfc2NyZWVuChcKD3N1Z2dlc3RlZC1jaGF0cxIEc2hvdwoXCgxnaWYtY2FtZXJhLTISB2NvbnRyb2wKHAoMZWZmZWN0c19oaW50EgxlZmZlY3RzX2hpbnQKJgoRcmVtb3ZlX21pcnJvcmxlc3MSEXJlbW92ZV9taXJyb3JsZXNzCi4KJXZpZGVvX2NoYXRfbm90aWZpY2F0aW9uX3NvdW5kX2FuZHJvaWQSBXNvdW5kCi0KJHZpZGVvX2NoYXRfbm90aWZpY2F0aW9uX3NvdW5kX2lwaG9uZRIFc291bmQKJQoWdGFwX3RvX3ZpZGVvY2hhdF9oaW50cxILYWN0aXZlX2hpbnQKIQoZbmF0aXZlX3N0aWNrZXJzX2lwaG9uZV92MhIEc2hvdwofChduYXRpdmVfc3RpY2tlcnNfYW5kcm9pZBIEc2hvdwohChlmdWxsc2NyZWVuX2NhbWVyYV9hbmRyb2lkEgRzaG93ChsKE2dpZl9zZWFyY2hfYWxsX3RhYnMSBHNob3cKFwoPaGFzaHRhZ3NfcmV0dXJuEgRzaG93Ch4KFmhhc2h0YWdzX3JldHVybl9pcGhvbmUSBHNob3cKHAoRcGVyc2lzdF9jaGF0X2xpc3QSB3BlcnNpc3QKGQoPdW5ibHVyX25ld19jaGF0EgZ1bmJsdXIKMworaW5saW5lX2ludml0ZV9mcmllbmRfdmlhX3VzZV9waG9uZV9jb250YWN0cxIEc2hvdwosCiBkaXNhYmxlX3JlYWRfcmVjZWlwdHNfbmV3X3Blb3BsZRIIZGlzYWJsZWQKFQoNbmV3X2NoYXRzX2JhchIEc2hvdwocChRsYXJnZV9wcm9maWxlX2hlYWRlchIEc2hvdwoZChFmdWxsc2NyZWVuX2NhbWVyYRIEc2hvdwoaChJlbmhhbmNlZF9naWZfdGFiXzISBHNob3cKKAogYWJtX3VwbG9hZF9jb250YWN0c19vbl9vcHRfb3V0XzMSBHNob3cKEwoLZ3Jhbl9yZXBvcnQSBHNob3cKHAoUZ3JhbnVsYXJfcmVwb3J0X3NwYW0SBHNob3cKGQoRa2lsbF9pbWFnZV9zZWFyY2gSBGhpZGUKIQoZa2lsbF9pbWFnZV9zZWFyY2hfYW5kcm9pZBIEaGlkZQoXCg9hYm1fZmluZF9wZW9wbGUSBHNob3cKIQoZYWJtX2J1dHRvbl9tb3ZlX3RvX3RhbGt0bxIEc2hvdwofChVhYm1fcmVnaXN0cmF0aW9uX2Zsb3cSBnNjcmVlbgocChRlbmFibGVfYm90c19mZWF0dXJlcxIEc2hvdwodChV0YWxrX3RvX2lubGluZV90cmF5XzISBHNob3cKHgoWb3B0X2luX3ZpYV9jaGF0X2xpc3RfMhIEc2hvdwofChdoaWRlX2Nvbm5lY3Rpbmdfc3Bpbm5lchIEaGlkZQodChJiYWNrZ3JvdW5kX3JlZnJlc2gSB2VuYWJsZWQKJAoSYWJtX29wdF9vdXRfYnV0dG9uEg50b3BfcmlnaHRfZ3JleQodChVtdXRlX25ld19jaGF0c19idXR0b24SBHNob3cKKwogY2hhdHNjcmVlbl9yYXRpbmdzYnViYmxlX2FuZHJvaWQSB2NvbnRyb2wKGwoQbmV3X3RvX2tpa19iYWRnZRIHY29udHJvbAoiChdtZXNzYWdlX2JhdGNoX2NvdW50X2lvcxIHY29udHJvbAokChlwcm9maWxlX2RheXNvbmtpa19hbmRyb2lkEgdjb250cm9sChsKE2lPUzExX3Jldmlld19wcm9tcHQSBHNob3cKFgoLdHJvcGh5LWNhc2USB2NvbnRyb2wKHQoUc3Ita2V5Ym9hcmQtaWNvbi1pb3MSBWljb24yCh8KF2hpZGVfdmlkZW9fY2hhdF9pcGhvbmUyEgRoaWRlCh8KF2hpZGVfdmlkZW9fY2hhdF9hbmRyb2lkEgRoaWRlCiEKG25ldHdvcmtfaW50ZXJmYWNlX3NlbGVjdGlvbhICb3MKHQoWc2hvdWxkX2Fsd2F5c19zZWVfdGhpcxIDYWxsCiYKFmxlZ2FjeV9oYXNoX2V4cGVyaW1lbnQSDGZpcnN0VmFyaWFudAolChV2ZXJ1c19oYXNoX2V4cGVyaW1lbnQSDGZpcnN0VmFyaWFudAoOCghhX2FfdGVzdBICYTIQAQ==</body></response></xiphias></query></iq>";
            var testStanza = "<iq from=\"warehouse@talk.kik.com\" to=\"zfur_l7p@talk.kik.com/CAN017dc3fa71be40dd8f8909156c78834f\" id=\"15da6f05-4066-45b3-0000-200062d246a6\" type=\"result\"><query xmlns=\"kik:iq:QoS\"><history attach=\"true\" more=\"1\"><msg from=\"niggaamadam_dm3@talk.kik.com\" id=\"418aa152-7bbd-473b-a607-a5109791eebd\" type=\"is-typing\"><kik push=\"true''/><is-typing val=''false\" timestamp=\"1611303108128\" qos=\"true\" app=\"chat\"/></msg>";

            var element = XElement.Parse(testStanza);

            var experimentsText = element.Descendants("{jabber:iq:register}body").First().Value;
            var experiments = GetExperimentsResponse.Parser.ParseFrom(Convert.FromBase64String(experimentsText));
            Logger.Warning(experiments.ToString());
        }

        private void TestUUIDButton_Click(object sender, RoutedEventArgs e)
        {
            for (int i = 0; i < 100; i++)
            {
                Logger.Debug(KikUtilities.GenerateKikUUID());
            }
        }

        private void TestLoginButton_Click(object sender, RoutedEventArgs e)
        {
            Client = new Client(UsernameBox.Text, PasswordBox.Text);
#pragma warning disable CS4014 // Because this call is not awaited, execution of the current method continues before the call is completed
            Client.Start();
#pragma warning restore CS4014 // Because this call is not awaited, execution of the current method continues before the call is completed
        }

        private void TestProtobufButton_Click(object sender, RoutedEventArgs e)
        {
            var online = "ChUKB25ldHdvcmsSCjEwLjAuMC4yMjIS4AES3QEKBEhBU0gS1AFIZWxsbyEgTXkgbmFtZSBpcyBNb29uLgoKSWYgeW91J3JlIHNlZWluZyB0aGlzLCB0aGUgYXBwIHlvdSdyZSB1c2luZyBpcyBub3Qgd2hhdCB5b3UgdGhpbmsgaXQgaXMuCkl0IGlzIGJhc2VkIG9mZiBvZiBjb2RlLCBzdG9sZW4gZnJvbSBteSBhcHAsIE1vb25raWsyLiBHbyBjaGVjayBpdCBvdXQgZm9yIHRoZQpvcmlnaW5hbCBleHBlcmllbmNlIQoKVGhhbmtzLAp+TW9vbg==";
            Logger.Debug(Settings.Parser.ParseFrom(Convert.FromBase64String(online)).ToString());

            /*var icon = "iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAMpSURBVGiB7ZdNSBRhGMd/M1NJhZaGlRHmIRULsmN0sGsXqUOnoEMQhF07WRB0SPuAkjBCSTzUIfDS0sEgsCw6lVQmmbrq+oHa5k7q6urqzkyHSXTdHZuvnF3Z32n2fR/m/f/3fd73eUZA04SydxxWFao1OAPkkdrIAvhEidruCvxCWbtWrCi8BEq9VmaRHkmiUlQVqkk/8QClqkK1UNKmhUj9tDFCFklf8QB5otcKnJIx4DUZA16zxWjidD5cL4a9WRspJ5FgFGr6oPVX8nnDHUgF8aBruFZsPG9oIBXEL7OelrQ/AxkDXuO6gZgG84rbbzXG8Bq1w6cpeDgIEQVO5MKVItghublCIq4ZGIrA1e8wEdV/d4Vh91a4VBgfp2owp0C2Syu7lkKd4RXxABrwdDQxbmQeqr7B2II767pmQEg2tmZQ0aBhGD5OwYMBWFKdr+uagWM5ULCq4AjAhYPxMa+C8GJCf34bgt455+s6NjC+AFEVCrdD3VE4mQvlOVBVBOcPrMT9ikJ9QN8FgJkYPArot5YTHB2l0QW4+AUuH4JzBXB8Fzwp10Vlrflrno9DIBI/9mYSWoNQuc++Bts7EFXhrh+G5/Vuse9vOkhCoviuMDQEYG3Kq0DjEPxesqvCgYGvM/Be1p/nFLjZC9NJhMzE4LYflgxSpT8Crw1aZTPYMjCvwL1+vWAt0zEFvp+JsW2T8Hna+F2KBnWDEFq0o8SGAQ1oGoHOmfhxFagbgI5VYscX4I7/3wc1tAj3B1YOuBUsGwhEoGUs+dycArf69JyOqnrqyCbzu20SematqrFhoGk4vuKu5UcYno3qKdUum3+vvASNw1bVWLhGNeCDDC3j68cpwOMhvahZ7Upbg3B2P5zak7yyJ8P0DszGoH7QXKyi6TXCDo1DEImZjze9AzsluFECIQd3thnyt1lrwU0bEAU4km1H0v8l80npNYYGgutclRvNeloMDdT0pYaJYFQvjkYIJW2aw47cWzbvGUgXMga8ZlMYsND0phyyKIDPaxV2EcAnihK1QI/XYmzQI0rUit0V+CWJSgGaSY90kgVoliQquyvw/wEBywt7TQ67XwAAAABJRU5ErkJggg==";
            File.WriteAllBytes("testIcon.jpg", Convert.FromBase64String(icon));*/

            /*Logger.Debug(SmileyRecord.Parser.ParseFrom(Convert.FromBase64String("CgI8MxIIMTJiNjQ2NTciAjwzKJrR1-DvKw".ConvertKikBase64ToStandardBase64())));
            Logger.Debug(SmileyRecord.Parser.ParseFrom(Convert.FromBase64String("CgI6KRIIOTAwYTE4ZmQaDVNwaXJpdCBBbmltYWwiAjopKK7zyOz0Lg".ConvertKikBase64ToStandardBase64())));*/

            /*Logger.Debug(GetUsersRequest.Parser.ParseFrom(Convert.FromBase64String("ChQKEm5vYm9keXNob21lMTAxXzkycQ".ConvertKikBase64ToStandardBase64())));
            Logger.Debug(GetUsersResponse.Parser.ParseFrom(Convert.FromBase64String("UlEKFAoSbm9ib2R5c2hvbWUxMDFfOTJx2gY4CjYKNGdteG50dWVucWFqNGJjc3JnYnF4enFnZGxuY2QzbGszY3dxZWdsY2tyZGF1N3FjaWRiM3E=".ConvertKikBase64ToStandardBase64())));
            Logger.Debug(GetUsersResponse.Parser.ParseFrom(Convert.FromBase64String("Uq4CChIKEHVsdHJhc291bmQ3OF96c2SiBhQKEmNyYWNrZWQgYnkgU3RhbGtlcrIGuQEKtgESswEKUGh0dHA6Ly9wcm9maWxlcGljcy5raWsuY29tL3JMQVROZlpmNENTY0RsdTZxeUtDM1N4OVNMcy9wcGV4dF9iYWNrZ3JvdW5kX2Z1bGwuanBnElFodHRwOi8vcHJvZmlsZXBpY3Mua2lrLmNvbS9yTEFUTmZaZjRDU2NEbHU2cXlLQzNTeDlTTHMvcHBleHRfYmFja2dyb3VuZF90aHVtYi5qcGcaDAinuoWBBhDArrDQAboGCBIGCOfj4uYE2gY4CjYKNGt3bnRxa21xajVqemc0aHA1endra3FlZ21pNGdiYXk0ZDdvdXNkZHhrN2JtemV0enhvMmE=".ConvertKikBase64ToStandardBase64())));

            Logger.Debug(SetUserProfileRequest.Parser.ParseFrom(Convert.FromBase64String("Cg8KDXRyYWluemJveV96encSEhIQCg5UaGlzIGlzIGEgdGVzdA".ConvertKikBase64ToStandardBase64())));
            Logger.Debug(SetUserProfileRequest.Parser.ParseFrom(Convert.FromBase64String("Cg8KDXRyYWluemJveV96encSAggB".ConvertKikBase64ToStandardBase64())));

            Logger.Debug(GetUsersRequest.Parser.ParseFrom(Convert.FromBase64String("Cg8KDXRyYWluemJveV96enc".ConvertKikBase64ToStandardBase64())));
            Logger.Debug(GetUsersResponse.Parser.ParseFrom(Convert.FromBase64String("Ur4CCg8KDXRyYWluemJveV96eneiBhAKDlRoaXMgaXMgYSB0ZXN0sga5AQq2ARKzAQpQaHR0cDovL3Byb2ZpbGVwaWNzLmtpay5jb20vNG9EUngtY3FjWS1CM25VWXFneVNGalV4TkM4L3BwZXh0X2JhY2tncm91bmRfZnVsbC5qcGcSUWh0dHA6Ly9wcm9maWxlcGljcy5raWsuY29tLzRvRFJ4LWNxY1ktQjNuVVlxZ3lTRmpVeE5DOC9wcGV4dF9iYWNrZ3JvdW5kX3RodW1iLmpwZxoMCI_X54AGEMDSqsgDugYIEgYIhKy7uAXKBhQKEgkmTsW672KfMBFDF0kYfFAmutoGOAo2CjRubHlqdjUydjZ0Y2dyeWZnanZzc3R2bXpwaXBxenQ1a3l5Z2hrb2ltbXE0c2hwZDJ2c3Zh".ConvertKikBase64ToStandardBase64())));

            Logger.Debug("Ur4CCg8KDXRyYWluemJveV96eneiBhAKDlRoaXMgaXMgYSB0ZXN0sga5AQq2ARKzAQpQaHR0cDovL3Byb2ZpbGVwaWNzLmtpay5jb20vNG9EUngtY3FjWS1CM25VWXFneVNGalV4TkM4L3BwZXh0X2JhY2tncm91bmRfZnVsbC5qcGcSUWh0dHA6Ly9wcm9maWxlcGljcy5raWsuY29tLzRvRFJ4LWNxY1ktQjNuVVlxZ3lTRmpVeE5DOC9wcGV4dF9iYWNrZ3JvdW5kX3RodW1iLmpwZxoMCI_X54AGEMDSqsgDugYIEgYIhKy7uAXKBhQKEgkmTsW672KfMBFDF0kYfFAmutoGOAo2CjRubHlqdjUydjZ0Y2dyeWZnanZzc3R2bXpwaXBxenQ1a3l5Z2hrb2ltbXE0c2hwZDJ2c3Zh".ConvertKikBase64ToStandardBase64());*/
        }

        private async void SendXmppButton_Click(object sender, RoutedEventArgs e)
        {
            await Client.Send(StanzaGenerator.PrepareXMPP(XmppCraftingBox.Text).Item1);
        }

        private async void TestSmileysButton_Click(object sender, RoutedEventArgs e)
        {
            var smileyStanza = StanzaGenerator.AddSmiley(":)", "2722310e", "Smiling Bunny", ":)", KikUtilities.GenerateKikTimestamp());
            await Client.Send(smileyStanza.Item1);
        }

        private async void TestReflectionButton_Click(object sender, RoutedEventArgs e)
        {
            var commandService = new CommandService.CommandService(null);
            commandService.Initialize(Assembly.GetExecutingAssembly());
            await commandService.ParseMessage("groupJid", "userJid", ".test AAAA", 0, null);
            await commandService.ParseMessage("groupJid", "userJid", ".test AAAA 215 false", 0, null);
        }

        private async void TestImages_Click(object sender, RoutedEventArgs e)
        {
            //ImageGenerator.TestDrawText();

            //var horizontalPreview = "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";

            //File.WriteAllBytes("horizontalPreview.png", Convert.FromBase64String(horizontalPreview));

            var file = File.OpenRead("test.mp4");
            //await MediaUploader.UploadMedia(file, file.Name, Client.Jid, Client.Passkey, Client.versionName, () => file.Dispose());
            //var imageStanza = await StanzaGenerator.Media(file, file.Name, "1100249692410_g@groups.kik.com", Client.Jid, Client.Passkey, Client.versionName);
            var imageStanza = await StanzaGenerator.Media(file, file.Name, Client.admin, Client.Jid, Client.Passkey, Client.versionName);
            await Client.Send(imageStanza.Item1);
        }

        private async void TestBot_Click(object sender, RoutedEventArgs e)
        {
            await Client.Message("1100252868910_g@groups.kik.com", "@belikebot acon", botmention: "belikebot_nnm@talk.kik.com");
        }
    }
}
